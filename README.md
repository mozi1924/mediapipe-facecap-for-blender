# Mozi's Facemocap for Blender

## Introduction
A MediaPipe-based facial capture program primarily designed for Blender, consisting of a companion Blender addon (referred to as the "receiver") and a transmitter.

It converts facial data into simple transformations (e.g., movement, scaling) for control bones in Blender. Compared to existing facial capture plugins, it is simpler, more intuitive, and offers better compatibility. Theoretically, it works with any facial rigging system that follows similar operational logic.

## Features
- OpenCL hardware acceleration support
- UDP-based network transmission
- Linux compatibility (developed primarily on this OS)
- CSV recording support in the transmitter
- Headless mode (runs without a GUI)

## Installation
Python 3.12 is recommended.
```bash
git clone https://github.com/mozi1924/mediapipe-facecap-for-blender.git

python -m venv venv

pip install mediapipe numpy pyyaml
```

## Usage
```bash
python main.py --preview --input 1
```
Modify arguments as needed.

## Parameters
```bash
[mozi@navi]~/mediapipe-realtime-face/app-next% python main.py --help             
usage: main.py [-h] [--input INPUT] [--udp_ip UDP_IP] [--udp_port UDP_PORT] [--preview] [--no_smooth] [--record]
               [--record_fps RECORD_FPS] [--record_output RECORD_OUTPUT]

Facial capture transmitter

options:
  -h, --help            Show this help message and exit
  --input INPUT         Video input source
  --udp_ip UDP_IP       UDP target IP
  --udp_port UDP_PORT   UDP port number
  --preview             Enable real-time preview
  --no_smooth           Disable smoothing
  --record              Enable CSV recording
  --record_fps RECORD_FPS
                        Recording FPS (overrides config file)
  --record_output RECORD_OUTPUT
                        CSV output path (auto-generated by default)
```

## Receiver
Please read [addons.md](/addons.md)

## License
GPL-3.0

## Contact
Email: mozi1924@arasaka.ltd  
BiliBili: https://space.bilibili.com/434156493